# POJ-3279

## **Fliptile**

` 地址https://vjudge.net/article/187`

### Descriptions：

`Farmer John knows that an intellectually satisfied cow is a happy cow who will give more milk. He has arranged a brainy activity for cows in which they manipulate an M × N grid (1 ≤ M ≤ 15; 1 ≤ N ≤ 15) of square tiles, each of which is colored black on one side and white on the other side.`

`As one would guess, when a single white tile is flipped, it changes to black; when a single black tile is flipped, it changes to white. The cows are rewarded when they flip the tiles so that each tile has the white side face up. However, the cows have rather large hooves and when they try to flip a certain tile, they also flip all the adjacent tiles (tiles that share a full edge with the flipped tile). Since the flips are tiring, the cows want to minimize the number of flips they have to make.`

`Help the cows determine the minimum number of flips required, and the locations to flip to achieve that minimum. If there are multiple ways to achieve the task with the minimum amount of flips, return the one with the least lexicographical ordering in the output when considered as a string. If the task is impossible, print one line with the word "IMPOSSIBLE".`

### Input

`Line 1: Two space-separated integers: M and N`
`Lines 2..M+1: Line i+1 describes the colors (left to right) of row i of the grid with N space-separated integers which are 1 for black and 0 for white`

### OutPut

`Lines 1..M: Each line contains N space-separated integers, each specifying how many times to flip that particular location.`

### Sample Input

```
4 4
1 0 0 1
0 1 1 0
0 1 1 0
1 0 0 1
```

### Sample Output

```
0 0 0 0
1 0 0 1
1 0 0 1
0 0 0 0
```

### 思路

```
题目大意：给你一个矩阵，要求你将矩阵上的1全部变成0 
有一种翻转操作，就是将当前这个位置的数变成另一个数(0变1，1变0)，相邻的四个位置的数也要变换 
问最后能否将所有的1都变成0，输出变换的最小字典序
```

`当我们翻转一个格子的时候，会影响上下左右的格子，所以我们以上一行为基础进行翻转，当上一行为1时，就反转本行的格子，这样就不会影响上一行的其他格子，当翻转完成后，只需要看最后一行是否全部是0即可，若是代表次方案可行。`

`第一行的翻转状态决定了后续所有行的操作（因为只能通过下一行来修正上一行的状态）`
`利用二进制枚举第一行的所有可能状态（共 2^m 种）`
`验证最后一行是否能被完全修正为目标状态`

### Code

见 chapter1  POJ3279函数